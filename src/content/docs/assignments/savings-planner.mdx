---
title: "Savings Planner"
description: TBD
sidebar:
  order: 3
---

import Latex from '../../../components/Latex.astro'

In this assignment you'll write a program that helps users plan their savings by calculating either the future value of their investment or the monthly savings required to reach a desired financial goal. This can be applied to long-term investing (e.g., retirement savings) or short-term savings (e.g., saving for a vacation or a car).

When the program runs, the user will choose between two options:

1. **Future Value Calculation**: The program calculates how much the user's current savings will grow over a specified number of years with monthly contributions. Alternatively, it can calculate the future value of a specific item or debt with an expected annual inflation rate. The program will display the future value of the investment or the cost of the item in the specified number of years. 
2. **Monthly Savings Calculator**: The program calculates the monthly savings required to reach a desired future value over a specified number of years.

## Inputs

### Option 1: Future Value Calculation

The user must provide the following inputs:

- **Current amount**: Initial amount of money saved or current price of a specific item, which can be negative to represent debt (USD).
- **Annual return rate**: Expected annual rate of return as a percentage (e.g., 5 for 5%, must be non-negative) or annual inflation rate. If the user enters a negative value, notify the user that negative values aren't allowed and override their entry with a default of 5%.
- **Number of periods (years)**: The number of years the investment will grow (non-negative) or when the purchase is expected to be made. If the user enters a negative value, print an error to the terminal and terminate the program immediately.
- **Monthly payment**: The amount added to savings each month (USD). If the user enters a negative value, notify the user that negative values aren't allowed and override their entry with a default of 0.

### Option 2: Monthly Savings Calculator

The user provides the following inputs:

- **Annual return rate**: Expected annual rate of return as a percentage (e.g., 5 for 5%). If the user enters a negative value, notify the user that negative values aren't allowed and override their entry with a default of 5%.
- **Inflation rate**: Annual inflation rate as a percentage (e.g., 2 for 2% or -1 for -1%), which can be negative to represent deflation.
- **Number of periods (years)**: The number of years to save (non-negative). If the user enters a negative value, print an error to the terminal and terminate the program immediately.
- **Current savings**: Initial amount of money saved, which can be negative to represent debt (USD).
- **Future value goal**: The target savings amount after the specified period (USD, non-negative). If the user enters a negative value, print an error to the terminal and terminate the program immediately.

### Additional Input Validation:

1. Allow negative inflation. No special handling is required other than ensuring that inflation doesn't affect the logic for other values.
2. Ensure future value goal is greater than current savings. This rule applies even when current savings is negative.

## Calculations

To know how much we should save, there exists a very useful equation:

<Latex formula="PV \cdot (1 + r)^n + \frac{PMT \cdot (1 + r) \cdot ( (1+ r)^n - 1)}{r} = FV" inline = {false} />

- <Latex formula="PV"/> is the present value,
- <Latex formula="PMT"/> is a periodic (fixed) amount, either negative or positive,
- <Latex formula="FV"/> is the future value,
- <Latex formula="r"/> is the return rate per period,
- <Latex formula="n"/> is the number of periods.

We can use this equation in two very useful ways.

The first is to calculate how much will something costs in a number of years from now. In this case, <Latex formula="PMT"/> will be 0 (zero). <Latex formula="PV"/> is the cost of the item today, <Latex formula="r"/> is the expected yearly inflation rate, and n the number of years:

<Latex formula="FV = PV \cdot (1 + r)^n" inline = {false} />

The second is to calculate how much you should save per period. In this case, <Latex formula="PMT"/> is the periodic amount to save (resp. monthly or yearly), <Latex formula="FV"/> is the future value of what you want to buy (computed with previous equation) or how much your investment will be (computed with the first equation), <Latex formula="r"/> is the expected return rate of your investment (resp. per month or year), <Latex formula="n"/> is the number of periods (resp. months or years), and <Latex formula="PV"/> is your current savings:

<Latex formula="PMT = \frac{FV - PV \cdot (1 + r)^n }{(1 + r) \cdot \frac{(1 + r)^n - 1}{r}}" inline = {false} />

:::note[Number of Periods]
If you want to save every month but to plan on a yearly basis, <Latex formula="n"/> should be the number of years times 12, and <Latex formula="r"/> should be the return rate per month. If you only have it per year, divide it by 12.
:::

:::note[Return Rate]
For both options, the effective return rate accounts for inflation or deflation using this formula:

<Latex formula="r_{\text{effective}} = r_{\text{return}} - r_{\text{inflation}}" inline = {false} />

- If inflation is positive, the effective return rate will be lower (reducing real returns).
- If inflation is negative (deflation), the effective return rate will be higher (increasing real returns).

If the inflation rate is provided, use <Latex formula="r_{\text{effective}}"/> in all calculations instead of the raw return rate.
:::

## Outputs

The program should output, either:

- The total future value of the investment or item, formatted as currency.
- The required monthly savings needed to reach the future value goal, formatted as currency.

